(this["webpackJsonpdsfh-dashboard"]=this["webpackJsonpdsfh-dashboard"]||[]).push([[0],{179:function(e,t,a){e.exports=a(330)},184:function(e,t,a){},185:function(e,t,a){},330:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(56),c=a.n(r),i=(a(184),a(185),a(64)),o=a(337),s=a(338),m=a(339),u=a(340),d=a(341),E=a(342),p=a(343),h=function(e){var t=Object(n.useState)(!0),a=Object(i.a)(t,2),r=a[0],c=a[1];return l.a.createElement("div",null,l.a.createElement(o.a,{color:"dark",dark:!0},l.a.createElement(s.a,{href:"/",className:"mr-auto"},"D.S.F.H"),l.a.createElement(m.a,{onClick:function(){return c(!r)},className:"mr-2"}),l.a.createElement(u.a,{isOpen:!r,navbar:!0},l.a.createElement(d.a,{navbar:!0},l.a.createElement(E.a,null,l.a.createElement(p.a,{href:""},"GitHub"))))))},f=a(360),g=a(361),b=a(345),y=a(346),v=a(347),O=a(5),j=a.n(O),C=a(17),k=a(18),_=a(21),x=a(19),S=a(20),F=a(162),N=a.n(F),D=(a(195),a(332),a(197),a(199),a(331),a(202),N.a.initializeApp({apiKey:"AIzaSyDxE7tOSORmr7EWRAAx2E61938KsTVouM4",authDomain:"dsfh-6ead5.firebaseapp.com",databaseURL:"https://dsfh-6ead5.firebaseio.com",projectId:"dsfh-6ead5",storageBucket:"dsfh-6ead5.appspot.com",messagingSenderId:"1049064576276",appId:"1:1049064576276:web:a9688582b582e59bda9e01",measurementId:"G-8G0DT9ESQT"}).firestore()),T=a(348),w=a(349),A=a(364),I=a(366),B=a(362),M=a(365),H=function(e){function t(){return Object(C.a)(this,t),Object(_.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return l.a.createElement(A.a,{domainPadding:50,theme:I.a.material},l.a.createElement(B.a,{alignment:"start",labelComponent:l.a.createElement(M.a,{textAnchor:"start",angle:"-45"}),data:this.props.data,x:"index",y:"names"}))}}]),t}(n.Component),R={marginTop:"80px"},q=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(x.a)(t).call(this,e))).fetchFromDB=function(){D.collection("Images").get().then((function(e){for(var t=e.docs.map((function(e){return e.data()})),n=0;n<t.length;n++)t[n].names=t[n].names.length,t[n].index=n;a.setState({data:t})}))},a.state={data:[]},a}return Object(S.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){this.fetchFromDB()}},{key:"render",value:function(){return l.a.createElement(b.a,null,l.a.createElement(y.a,null,l.a.createElement(v.a,{xs:"4",style:R},l.a.createElement("h5",null,l.a.createElement("strong",null,"Diseases collected so far:")),l.a.createElement(T.a,{striped:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Disease name"),l.a.createElement("th",null,"Number of images"))),l.a.createElement("tbody",null,this.state.data.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("th",{scope:"row"},t),l.a.createElement("td",null,e.label),l.a.createElement("td",null,e.names))})))),l.a.createElement(w.a,{color:"primary",onClick:this.fetchFromDB},"Reload")),l.a.createElement(v.a,{xs:"8"},l.a.createElement(H,{data:this.state.data}))))}}]),t}(n.Component),z=a(367),G=a(350),J=a(351),K=a(174),L=a.n(K),P=function(e){function t(){return Object(C.a)(this,t),Object(_.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(L.a,{value:"https://api-2445582824322.production.gw.apicast.io:443/deploy/"+this.props.name+"/"}),",")}}]),t}(n.Component),Q=function(e){var t=e.name,a=e.className,r=Object(n.useState)(!1),c=Object(i.a)(r,2),o=c[0],s=c[1],m=function(){return s(!o)};return l.a.createElement("div",null,l.a.createElement(w.a,{color:"success",onClick:m},"Deploy"),l.a.createElement(z.a,{isOpen:o,toggle:m,className:a},l.a.createElement(G.a,{toggle:m},"Scan this with the App!"),l.a.createElement(J.a,null,l.a.createElement("div",{style:{marginLeft:"167px"}},l.a.createElement(P,{name:t})))))},U=a(352),V=function(e){return l.a.createElement("div",null,l.a.createElement(U.a,{type:"grow",color:"success"}),l.a.createElement(U.a,{type:"grow",color:"danger"}),l.a.createElement(U.a,{type:"grow",color:"warning"}))},W={marginTop:"80px"},X=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(x.a)(t).call(this,e))).fetchFromDB=function(){a.setState({loading:!0}),D.collection("Models").get().then((function(e){var t=e.docs.map((function(e){return e.data()}));a.setState({model_data:t})})),a.setState({loading:!1})},a.state={model_data:[],loading:!1},a}return Object(S.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){this.fetchFromDB()}},{key:"render",value:function(){return l.a.createElement(b.a,{style:W},l.a.createElement("h5",null,l.a.createElement("strong",null,"Models trained:")),l.a.createElement(T.a,{striped:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Model name"),l.a.createElement("th",null,"Diseases involved"),l.a.createElement("th",null,"Description"),l.a.createElement("th",null,"QR-code"))),l.a.createElement("tbody",null,this.state.model_data.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("th",{scope:"row"},t),l.a.createElement("td",null,e.name),l.a.createElement("td",null,l.a.createElement("ul",null,e.labels.map((function(e,t){return l.a.createElement("li",{key:t},e)})))),l.a.createElement("td",null,e.desciption),l.a.createElement("td",null,l.a.createElement(Q,{name:e.name})))})))),!this.state.loading&&l.a.createElement(w.a,{color:"primary",onClick:this.fetchFromDB},"Reload"),this.state.loading&&l.a.createElement(V,null))}}]),t}(n.Component),Y=a(177),Z=a(47),$=a(353),ee=a(354),te=a(355),ae=a(356),ne=a(357),le=a(358),re=a(359),ce=a(62),ie=a.n(ce),oe={marginTop:"80px"},se={textAlign:"center",mariginTop:"10px",padding:"20px"},me=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(_.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(l)))).state={model_name:"",description:"",diseases:[],labels:[],toAddress:"",loading:!1,error_data:"",after_train:!1},a.onChange=function(e){a.setState(Object(Z.a)({},e.target.name,e.target.value))},a.fetchFromDB=function(){a.setState({loading:!0}),D.collection("Images").get().then((function(e){for(var t=e.docs.map((function(e){return e.data()})),n=[],l=0;l<t.length;l++)n.push(t[l].label);a.setState({labels:n})})),a.setState({loading:!1})},a.onCheckboxBtnClick=function(e){var t=Object(Y.a)(a.state.diseases),n=t.indexOf(e);n<0?t.push(e):t.splice(n,1),a.setState({diseases:t})},a.onSubmit=function(e){a.setState({loading:!0}),e.preventDefault();var t=a.state,n=t.description,l=t.model_name,r={labels:t.diseases,description:n,toEmail:t.toAddress},c="https://api-2445582824322.production.gw.apicast.io:443/train/"+l+"?user_key=402d46c6d21b86e66339d12e79e05366";ie.a.post(c,{data_for_training:r}).then((function(e){"Success"===e.data?a.setState({loading:!1,after_train:!0}):a.setState({loading:!1,error_data:"The training failed, try again!!"})})),a.setState({model_name:"",description:"",diseases:[]})},a}return Object(S.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){this.fetchFromDB()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement($.a,{onSubmit:this.onSubmit,style:oe},l.a.createElement("h5",null,l.a.createElement("strong",null,"Make a new model:")),l.a.createElement(ee.a,null,l.a.createElement(te.a,{for:"Model-Name"},"Model Name:"),l.a.createElement(ae.a,{type:"text",name:"model_name",id:"model_name",value:this.state.model_name,onChange:this.onChange,required:!0})),l.a.createElement(ee.a,null,l.a.createElement(te.a,{for:"description"},"Description:"),l.a.createElement(ae.a,{type:"text",name:"description",id:"description",value:this.state.description,onChange:this.onChange,required:!0})),l.a.createElement(ee.a,null,l.a.createElement(te.a,{for:"toAddress"},"Email:"),l.a.createElement(ae.a,{type:"email",name:"toAddress",id:"toAddress",value:this.state.toAddress,onChange:this.onChange,required:!0})),l.a.createElement("p",null,"Select Diseases:"),l.a.createElement(ne.a,null,l.a.createElement(le.a,null,this.state.labels.map((function(t,a){return l.a.createElement(w.a,{color:"success",onClick:function(){return e.onCheckboxBtnClick(t)},active:e.state.diseases.includes(t),key:a},t)}))),l.a.createElement(le.a,null,l.a.createElement(w.a,{onClick:this.fetchFromDB},l.a.createElement("i",{className:"fa fa-refresh"})))),l.a.createElement("br",null),!this.state.loading&&l.a.createElement(w.a,{color:"primary"},"Train"),this.state.loading&&l.a.createElement(V,null),l.a.createElement("br",null),this.state.error_data&&l.a.createElement("div",{style:se},l.a.createElement("p",null,l.a.createElement(re.a,{color:"danger"},this.state.error_data))),this.state.after_train&&l.a.createElement("div",{style:se},l.a.createElement(re.a,{color:"success"},"An email will be sent to you after the training has completed."))))}}]),t}(n.Component),ue=a(72),de={marginTop:"80px"},Ee={textAlign:"center",mariginTop:"10px",padding:"20px"},pe=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(_.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(l)))).state={Folder_Name:"",fileType:"Image",error_data:"",success_data:""},a.onChange=function(e){a.setState(Object(Z.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t=a.state,n={Folder_Name:t.Folder_Name,fileType:t.fileType};ie.a.post("http://35.223.18.41:5000/config",{data_for_config:n}).then((function(e){console.log(e.data),"error"===e.data.typ&&a.setState({error_data:e.data.message}),"success"===e.data.typ&&a.setState({success_data:e.data.message})})),console.log(a.state)},a}return Object(S.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement($.a,{onSubmit:this.onSubmit,style:de},l.a.createElement("h5",null,l.a.createElement("strong",null,"Configure Newly uploaded folder:")),l.a.createElement(ee.a,null,l.a.createElement(te.a,{for:"Folder_Name"},"Folder-Name:"),l.a.createElement(ae.a,{type:"text",name:"Folder_Name",id:"Folder_Name",value:this.state.Folder_Name,onChange:this.onChange,required:!0})),l.a.createElement(ee.a,null,l.a.createElement(te.a,{for:"fileType"},"File-type:"),l.a.createElement(ae.a,{type:"select",name:"fileType",id:"fileType",onChange:this.onChange,value:this.state.fileType},l.a.createElement("option",null,"Image"),l.a.createElement("option",null,"Dicom"))),l.a.createElement("br",null),l.a.createElement(w.a,{color:"primary"},"configure"),l.a.createElement("br",null),this.state.error_data&&l.a.createElement("div",{style:Ee},l.a.createElement("p",null,l.a.createElement(re.a,{color:"danger"},this.state.error_data))),this.state.success_data&&l.a.createElement("div",{style:Ee},l.a.createElement("p",null,l.a.createElement(re.a,{color:"success"},this.state.success_data)))))}}]),t}(n.Component),he={marginTop:"80px"},fe=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(_.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(l)))).state={Folder_Name:"",fileType:"Images",link:""},a.onChange=function(e){a.setState(Object(Z.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t="http://35.232.144.179:5000/image-cluster/"+a.state.Folder_Name;a.setState({link:t})},a}return Object(S.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement($.a,{onSubmit:this.onSubmit,style:he},l.a.createElement("h5",null,l.a.createElement("strong",null,"Type a folder to run clustering on:")),l.a.createElement(ee.a,null,l.a.createElement(te.a,{for:"Folder_Name"},"Folder-Name:"),l.a.createElement(ae.a,{type:"text",name:"Folder_Name",id:"Folder_Name",value:this.state.Folder_Name,onChange:this.onChange,required:!0})),l.a.createElement("br",null),l.a.createElement(w.a,{color:"primary"},"Clusterify"),l.a.createElement("br",null),this.state.link&&l.a.createElement(ue.a,{url:this.state.link,width:"900px",height:"700px",display:"initial",position:"relative",frameBorder:"0"})))}}]),t}(n.Component),ge={textAlign:"center",mariginTop:"10px",padding:"20px"},be=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(_.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(l)))).state={selectedFile:null,prediction:"",error:"",model_data:[],model:"--select--",loading:!1},a.onChangeHandler=function(e){a.setState({model:e.target.value})},a.fileChangedHandler=function(e){a.setState({selectedFile:e.target.files[0]})},a.uploadHandler=function(){if(a.setState({loading:!0,error:""}),"--select--"===a.state.model)a.setState({error:"Please select a model",loading:!1,prediction:""});else{var e="https://api-2445582824322.staging.gw.apicast.io/deploy/"+a.state.model+"/a/?user_key=402d46c6d21b86e66339d12e79e05366",t=new FormData;t.append("file",a.state.selectedFile,a.state.selectedFile.name),ie.a.post(e,t).then((function(e){e.data.prediction?a.setState({prediction:e.data.prediction,loading:!1}):a.setState({error:"Inference did not work! Check again later",loading:!1})}))}},a}return Object(S.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){var e=this;D.collection("Models").get().then((function(t){var a=t.docs.map((function(e){return e.data()}));e.setState({model_data:a})}))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(te.a,{for:"selectModels"},l.a.createElement("strong",null,"Select Model:")),l.a.createElement(ae.a,{type:"select",name:"select",id:"selectModels",value:this.state.model,onChange:this.onChangeHandler},l.a.createElement("option",null,"--select--"),this.state.model_data.map((function(e,t){return l.a.createElement("option",{key:t},e.name)}))),l.a.createElement("br",null),l.a.createElement(ae.a,{type:"file",onChange:this.fileChangedHandler}),l.a.createElement("br",null),!this.state.loading&&l.a.createElement(w.a,{color:"primary",onClick:this.uploadHandler},"Run Test"),l.a.createElement("br",null),this.state.loading&&l.a.createElement(V,null),this.state.error&&l.a.createElement("div",{style:ge},l.a.createElement(re.a,{color:"danger"},this.state.error)),this.state.prediction&&l.a.createElement("div",{style:ge},l.a.createElement(re.a,{color:"success"},"The disease is ",this.state.prediction,".")))}}]),t}(n.Component),ye=a(175),ve=a(176),Oe={float:"right",margin:"10px"},je=function(e){function t(){return Object(C.a)(this,t),Object(_.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{style:Oe},l.a.createElement(p.a,{href:"https://st2-ev.github.io",target:"_blank"},l.a.createElement(ye.a,{icon:ve.a,size:"3x",spin:!0})))}}]),t}(n.Component),Ce={padding:"30px"},ke=function(e){var t=Object(n.useState)("1"),a=Object(i.a)(t,2),r=a[0],c=a[1],o=function(e){r!==e&&c(e)};return l.a.createElement("div",null,l.a.createElement(d.a,{tabs:!0},l.a.createElement(E.a,null,l.a.createElement(p.a,{className:j()({active:"1"===r}),onClick:function(){o("1")}},"Home")),l.a.createElement(E.a,null,l.a.createElement(p.a,{className:j()({active:"2"===r}),onClick:function(){o("2")}},"Deploy")),l.a.createElement(E.a,null,l.a.createElement(p.a,{className:j()({active:"3"===r}),onClick:function(){o("3")}},"Test")),l.a.createElement(E.a,null,l.a.createElement(p.a,{className:j()({active:"4"===r}),onClick:function(){o("4")}},"Files")),l.a.createElement(E.a,null,l.a.createElement(p.a,{className:j()({active:"5"===r}),onClick:function(){o("5")}},"Clustering"))),l.a.createElement(f.a,{activeTab:r},l.a.createElement(g.a,{tabId:"1"},l.a.createElement(je,null),l.a.createElement(b.a,null,l.a.createElement(q,null))),l.a.createElement(g.a,{tabId:"2"},l.a.createElement(je,null),l.a.createElement(b.a,null,l.a.createElement(y.a,null,l.a.createElement(v.a,{xs:"6"},l.a.createElement(X,null)),l.a.createElement(v.a,{xs:"6"},l.a.createElement(me,null))))),l.a.createElement(g.a,{tabId:"3"},l.a.createElement(je,null),l.a.createElement(b.a,{style:Ce},l.a.createElement(be,null))),l.a.createElement(g.a,{tabId:"4"},l.a.createElement(je,null),l.a.createElement(b.a,{style:Ce},l.a.createElement(y.a,null,l.a.createElement(v.a,{xs:"6"},l.a.createElement(ue.a,{url:"http://35.223.18.41:8000/",width:"500px",height:"500px",id:"myId",className:"myClassname",display:"initial",position:"relative",frameBorder:"0"})),l.a.createElement(v.a,{xs:"6"},l.a.createElement(pe,null))))),l.a.createElement(g.a,{tabId:"5"},l.a.createElement(je,null),l.a.createElement(b.a,{style:Ce},l.a.createElement(y.a,null,l.a.createElement(v.a,{xs:"6"},l.a.createElement(ue.a,{url:"http://35.232.144.179:8000/",width:"500px",height:"500px",id:"my",className:"myClass",display:"initial",position:"relative",frameBorder:"0"})),l.a.createElement(v.a,{xs:"6"},l.a.createElement(fe,null)))))))};var _e=function(){return l.a.createElement("div",null,l.a.createElement(h,null),l.a.createElement(ke,null))};a(329);c.a.render(l.a.createElement(_e,null),document.getElementById("root"))}},[[179,1,2]]]);
//# sourceMappingURL=main.3555cf0a.chunk.js.map